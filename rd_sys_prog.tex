\documentclass[a4paper]{G2-105}
\usepackage[utf8]{luainputenc}

\input{settings.tex}

\begin{document}

%
\VSTUSetDocumentNumbersPrefix{Ж.2.}
\VSTUInitializeRDSysProg
%

\abstract{Аннотация}

Документ представляет собой руководство системного программиста для интеллектуальной системы поддержки принятия решений по управлению отходами на основе онтологической модели представления знаний и логического вывода на онтологиях. В документе содержится описание требований к техническому и программному обеспечению, правила инсталляции и запуска системы.

Настоящее руководство распространяется исключительно на систему и не заменяет учебную, справочную литературу, руководства от производителя операционной системы и прочие источники информации.

Документ включает в себя страниц~---~\totalpages, рисунков~---~\totalfigures.

\CommonKeywords

\newpage

\tableofcontents

\newpage

\chapter{Общие сведения о программе}

\ttl

\section{Полное наименование системы и ее условное обозначение}

Полное наименование системы -- «Интеллектуальная система поддержки принятия решений по управлению отходами предприятия».

Далее используется сокращенное наименование -- система.

\section{Виды деятельности, функции}

Главная функция системы -- генерация стратегии управления отходами предприятия.

К основным функциям системы относятся:
\begin{itemize}
\item отображение каталогов отходов и способов управления отходами;
\item создание и редактирование профиля предприятия, его отходов и способ управления отходами.
\end{itemize}

К вспомогательным функциям системы относятся:
\begin{itemize}
\item регистрация новых пользователей системы;
\item загрузка онтологий предметной области управления отходами через конфигурационный файл.
\end{itemize}

\section{Программные и технические требования к системе}

Для функционирования системы на стороне сервера необходимо следующее техническое обеспечение:
\CommonSystemRequirements

Рабочей средой сервера является ОС Ubuntu 14.04.4 LTS (Trusty Tahr). На стороне сервера должно быть установлено следующее программное обеспечение:
\CommonSoftwareRequirements

Для функционирования системы на стороне клиента необходимо следующее техническое обеспечение:
\CommonClientRequirements

Рабочей средой клиентской части системы можеть быть любая ОС с установленным в ней браузером:
\CommonBrowserRequirements

\chapter{Структура программы}

\ttl

\section{Функциональная структура системы}

Пользователи системы подразделяются на администратора и зарегистрированных пользователей.

Зарегистрированный пользователь имеет возможность:
\begin{itemize}
\item просматривать каталоги отходов и способов управления отходами;
\item создавать и редактировать профиль предприятия, его отходы и способы управления отходами;
\item просматривать сгенерированную системой стратегию управления отходами предприятия.
\end{itemize}

Администратор обладает всеми доступными правами системы и в дополнение к правам зарегистрированного пользователя может:
\begin{itemize}
\item поддерживать базу знаний на основе онтологий;
\item создавать и редактировать знания о предметной области управления отходами;
\item регистрировать новых пользователей системы и редактировать их права.
\end{itemize}

Диаграмма вариантов использования показана на рисунке~\ref{fig:use_case}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{use_case}
\caption{Функциональная структура системы (диаграмма вариантов использования в нотации UML)}
\label{fig:use_case}
\end{figure}

\section{Архитектура системы}

Архитектура системы и ее компонентов приведена на рисунке~\ref{fig:architecture_backend}

\begin{figure}[H]
\centering
\includegraphics[scale=0.7]{component}
\caption{Архитектура системы в нотации диаграммы компонентов UML}
\label{fig:architecture_backend}
\end{figure}

Цифрами на схеме обозначены: 1~---~клиент-серверное взаимодействие по протоколу HTTP (запрос-ответ); 2~---~ запрос на авторизацию пользователя в системе и доступа к ресурсам; 3~---~веб-маршруты до ресурсов системы; 4-7~---~обработка HTTP запросов на соответствующих контроллерах ресурсов; 8-11~---~взаимодействие с моделями ресурсов в БД и базе знаний; 12~---~взаимодействие с программной платформой Stardog через ее API для осуществления логического вывода на онтологиях и поиска знаний с использованием семантических запросов; 13~---~взаимодействие с базой данных MongoDB с помощью программной прослойки mongoose.

\chapter{Настройка системы}

\ttl

\section{Инсталляция стороннего программного обеспечения}

Инсталляция необходимого для функционирования системы стороннего программного обеспечения должна выполняться строго согласно инструкциям, представленным на официальных сайтах соответствующих производителей.

\section{Инсталляция и запуск системы}

Чтобы произвести инсталляцию системы, необходимо выполнить следующие действия:
\begin{itemize}
\item Открыть терминал и перейти в каталог скопированной системы.
\item Далее необходимо установить дополнительные программные пакеты, от которых зависит система. Для этого нужно выполнить команду «npm install».
\item После успешной загрузки программных пакетов, необходимо проверить наличие запуска платформы Stardog и СУБД MongoDB. При необходимости запустить их.
\item Запуск системы происходит в два этапа -- сначала запускается серверная часть, а затем клиентская часть. Для того чтобы запустить сервер, необходимо в корневой папке системы выполнить консольную команду «npm run api-prod». Для запуска клиента необходимо в той же директории выполнить команду «npm run start-prod». После успешно проведенного запуска, система готова к эксплуатации.
\end{itemize}

\section{Конфигурирование системы}

Все настройки системы представлены в одном конфигурационном файле -- api/core/config.js. В поставляемой системе все настройки определены по умолчанию.

Администратор может изменить следующие настройки системы:
\begin{itemize}
\item stardogDb -- задает имя используемой базы знаний платформы Stardog;
\item mongodb -- задает URL используемой базы данных MongoDB;
\item serverPort -- задает порт, на котором будет осуществлен запуск серверной части;
\item owlFile --- задает путь до OWL файла, загружаемого в платформу Stardog.
\end{itemize}

\chapter{Проверка системы}

Для проверки работоспособности системы необходимо запустить систему и выполнить тестовый пример. Для этого необходимо сделать следующую последовательность действий в системе:
\begin{itemize}
\item авторизоваться в системе, указав свой логин и пароль;
\item перейти в профиль конкретного предприятия (в данном случае ГБУЗ Николаевское ЦРБ);
\item найти стратегию управлению отходами предприятия.
\end{itemize}

Система должна сгенерировать стратегию управления отходами предприятия, представленную в таблице~\ref{tab:test_results}.

\clearpage

\begin{longtable}[l]{|p{7.5cm}|p{7.5cm}|}
\caption{Сгенерированная системой стратегия управления отходами предприятия на основе тестовых данных}
\label{tab:test_results}\tabularnewline
\hline
Группа отходов & Эффективные способы обращения \tabularnewline
\endfirsthead
\hline
Группа отходов & Эффективные способы обращения \tabularnewline
\endhead
\hline
Аккумуляторы свинцовые отработанные неповрежденные, с неслитым электролитом;
Отходы упаковочной бумаги незагрязненные; Обтирочный материал, загрязненный маслами (содержание масел менее 15\%); Остатки и огарки стальных сварочных электродов; Отходы бумаги и картона от канцелярской деятельноти и делопроизводства & ООО Тора (Переработка); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Отходы гипса в кусковой форме; Электрические лампы накаливания отработанные и брак & Николаевское городское коммунальное хозяйство (Захоронение на свалке); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Отходы керамики в кусковой форме; Отходы упаковочного картона незагрязненные; Лом и отходы черных металлов с примесями или загрязненные опасными веществами (тара железная с остатками ЛКМ) & ООО Тора (Переработка); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Отходы лакокрасочных средств (кисти малярные); Ртутные лампы, люминесцентные ртутьсодержащие трубки отработанные и брак; Масла трансмисионные отработанные; Масло моторные отработанные & ООО Экоплюс (Сжигание в печи); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Отходы полиэтилена в виде пленки & Николаевское городское коммунальное хозяйство (Захоронение на свалке); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Отходы потребления на производстве, подобные коммунальным; Покрышки с металлокордом отработанные; Мусор от бытовых помещений организаций несортированный (исключая крупногабаритный); Обрезки и обрывки тканей смешанных & Николаевское городское коммунальное хозяйство (Захоронение на свалке); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Очистки овощного сырья; Пищевые отходы кухонь и организаций общественного питания; Шлак сварочный & Николаевское городское коммунальное хозяйство (Захоронение на свалке); Николаевское городское коммунальное хозяйство (Транспортировка) \tabularnewline
\hline
Количество -- 114.27 т & Стоимость -- 409588.2 р \tabularnewline
\end{longtable}

\chapter{Сообщения системному администратору}

В таблице~\ref{tab:messages} указаны тексты сообщений, выдаваемых в ходе выполнения системы, описание их причин и действий, которые необходимо предпринять по этим сообщениям.

\begin{longtable}[l]{|p{4cm}|p{5.3cm}|p{5.3cm}|}
\caption{Сгенерированная системой стратегия управления отходами предприятия на основе тестовых данных}
\label{tab:messages}\tabularnewline
\hline
Текст сообщения & Причина сообщения & Действие \tabularnewline
\endfirsthead
\hline
Текст сообщения & Причина сообщения & Действие \tabularnewline
\endhead
\hline
Отсутствует соединение с БД & Не удалось подключиться к MongoDB & Необходимо проверить наличие запушенного сервиса mongod, а также используемые порты, при необходимости перезапустить mongod \tabularnewline
\hline
Отсутствует файл онтологии & В каталоге отсутствует файл онтологии & Необходимо
проверить наличие файла в каталоге \tabularnewline
\hline
StardogError & Некорректный формат заргужаемой онтологии или отсутсвтие доступа к файлу & Необходимо
проверить загружаемый в систему файл на соответствие требованиям \tabularnewline
\end{longtable}

\end{document}
